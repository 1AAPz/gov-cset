<!doctype html>
<html lang="en">
<head>
  
  <meta charset="utf-8">
  <title>Inventory</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <script>
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
              sessionStorage.setItem("isAPI_together_With_Web", "true");
              var jsonResponse = JSON.parse(xhttp.responseText);
              sessionStorage.setItem("appAPIURL", jsonResponse.apiUrl);
          }
          else if (this.readyState == 4) {
              sessionStorage.setItem("isAPI_together_With_Web", "false");
          }
      };
      xhttp.onerror = function () {
          alert('returned error');
      }

      var configURL = "api/assets/config.json";
      if(/reports/i.test(window.location.href)){
        configURL = "../" + configURL;
      }
      xhttp.open("GET", configURL, false);
      xhttp.send();

      function getParameterByName(name, url) {
          if (!url) url = window.location.href;
          name = name.replace(/[\[\]]/g, "\\$&");
          var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
              results = regex.exec(url);
          if (!results) return null;
          if (!results[2]) return '';
          return decodeURIComponent(results[2].replace(/\+/g, " "));
      }

      if (typeof (Storage) !== "undefined") {
          var token = getParameterByName("token");
          var routePath = getParameterByName("routePath");
          if (token != null)
              sessionStorage.setItem("token", token);
          if (routePath != null)
              sessionStorage.setItem("routePath", routePath);
      } else {
          // Sorry! No Web Storage support..
      }
  </script>
</head>
<body>
  <app-root></app-root>
</body>
</html>
